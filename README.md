# üñºÔ∏è Z-Image Turbo Generator

Standalone –ª–æ–∫–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –±–∞–∑–µ Z-Image-Turbo.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- UMRGEN Engine (–∑–∞–ø—É—â–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω–æ)
- –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥–µ–ª–∏ (—Å–º. –Ω–∏–∂–µ)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π –∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª—ã


# –°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª
cp .env.example .env

# –ó–∞–ø—É—Å—Ç–∏
npm start
```

–û—Ç–∫—Ä–æ–π http://localhost:3088

## –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥–µ–ª–∏

–†–∞–∑–º–µ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞–ø–∫–∞—Ö Engine:

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏
| –ú–æ–¥–µ–ª—å | –ü–∞–ø–∫–∞ | –û—Ç–∫—É–¥–∞ |
|--------|-------|--------|
| `z_image_turbo_bf16.safetensors` | `models/diffusion_models/` | HuggingFace |
| `qwen_3_4b.safetensors` | `models/text_encoders/` | HuggingFace |
| `ae.safetensors` | `models/vae/` | FLUX VAE |
| `k8zimage2k.safetensors` | `models/loras/` | HuggingFace |

### –î–ª—è –∞–ø—Å–∫–µ–π–ª–∞
| –ú–æ–¥–µ–ª—å | –ü–∞–ø–∫–∞ |
|--------|-------|
| `4x_foolhardy_Remacri.pth` | `models/upscale_models/` |

### –î–ª—è Face Detailer
| –ú–æ–¥–µ–ª—å | –ü–∞–ø–∫–∞ |
|--------|-------|
| `face_yolov8m.pt` | `models/ultralytics/bbox/` |
| `sam_vit_b_01ec64.pth` | `models/sams/` |

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ß–µ—Ä–µ–∑ `.env` —Ñ–∞–π–ª –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
PORT=3088                      # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
COMFY_HOST=127.0.0.1:8188     # –ê–¥—Ä–µ—Å Engine
COMFY_PATH=/path/to/Engine   # –ü—É—Ç—å –∫ Engine (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## API Endpoints

- `GET /` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `GET /api/status` - –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Engine
- `POST /api/generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (SSE stream)
- `GET /history` - –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- `GET /view/:id` - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- `GET /download-zip/:id` - –°–∫–∞—á–∞—Ç—å ZIP –∞—Ä—Ö–∏–≤
- `GET /models` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- `GET /settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω—ã–π - –Ω–∏–∫–∞–∫–∏—Ö –æ–±–ª–∞—á–Ω—ã—Ö API  
‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å real-time –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º  
‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π upscale (1.5x –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)  
‚úÖ Face Detailer –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ª–∏—Ü  
‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π  
‚úÖ Batch –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–¥–æ 8 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)  
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ localStorage  

## Workflow Pipeline

```
[Empty Latent] ‚Üí [KSampler] ‚Üí [VAE Decode]
                      ‚Üì
              [CR Upscale 1.5x]
                      ‚Üì
              [VAE Encode] ‚Üí [KSampler Refine]
                      ‚Üì
              [VAE Decode] ‚Üí [Face Detailer]
                      ‚Üì
                [Save Image]
```

## Troubleshooting

### Engine –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –£–±–µ–¥–∏—Å—å —á—Ç–æ Engine –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8188)
- –ü–æ–ø—Ä–æ–±—É–π `COMFY_HOST=localhost:8188`

### –ú–æ–¥–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç–∏ –∫ –º–æ–¥–µ–ª—è–º –≤ Engine
- –ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä–∞–Ω–∏—Ü—É `/models` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### Out of Memory
- –£–º–µ–Ω—å—à–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (768x768)
- –û—Ç–∫–ª—é—á–∏ upscale –∏–ª–∏ face detailer
- –£–º–µ–Ω—å—à–∏ batch count

## License

MIT
